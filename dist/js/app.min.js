(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();let v=(e,s=500,t=0)=>{e.classList.contains("--slide")||(e.classList.add("--slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=s+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=t?`${t}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.hidden=!t,t||e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),t||e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))},s))},g=(e,s=500,t=0)=>{if(!e.classList.contains("--slide")){e.classList.add("--slide"),e.hidden=e.hidden?!1:null,t&&e.style.removeProperty("height");let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=t?`${t}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=s+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))},s)}},q=(e,s=500)=>e.hidden?g(e,s):v(e,s),d=!0,O=(e=500)=>{document.documentElement.hasAttribute("data-fls-scrolllock")?h(e):y(e)},h=(e=500)=>{if(d){const s=document.querySelectorAll("[data-fls-lp]");setTimeout(()=>{s.forEach(t=>{t.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.removeAttribute("data-fls-scrolllock")},e),d=!1,setTimeout(function(){d=!0},e)}},y=(e=500)=>{if(d){const s=document.querySelectorAll("[data-fls-lp]"),t=window.innerWidth-document.body.offsetWidth+"px";s.forEach(o=>{o.style.paddingRight=t}),document.body.style.paddingRight=t,document.documentElement.setAttribute("data-fls-scrolllock",""),d=!1,setTimeout(function(){d=!0},e)}};function x(e,s){const t=Array.from(e).filter(a=>a.dataset[s]).map(a=>{const[n,r="max"]=a.dataset[s].split(",");return{value:n,type:r,item:a}});if(t.length===0)return[];const o=t.map(({value:a,type:n})=>`(${n}-width: ${a}px),${a},${n}`);return[...new Set(o)].map(a=>{const[n,r,c]=a.split(","),l=window.matchMedia(n);return{itemsArray:t.filter(m=>m.value===r&&m.type===c),matchMedia:l}})}function k(){document.addEventListener("click",function(e){if(d&&e.target.closest("[data-fls-menu]")){O(),document.documentElement.toggleAttribute("data-fls-menu-open");const s=document.querySelector(".header-catalog._catalog-active");s&&s.classList.remove("_catalog-active")}})}document.querySelector("[data-fls-menu]")&&window.addEventListener("load",k);let _=!1,L=-1,E=null,w=null;function A(){if(_)return;_=!0;const e=document.documentElement,s=document.querySelector(".header");if(!s)return;const t=()=>{const a=s.getBoundingClientRect().height||0;a!==L&&(L=a,e.style.setProperty("--header-height",`${a}px`))};t(),E=new AbortController;const{signal:o}=E;w=new ResizeObserver(t),w.observe(s);const i=()=>requestAnimationFrame(t);window.addEventListener("resize",i,{passive:!0,signal:o})}(()=>{const e=Object.getOwnPropertyDescriptor(Element.prototype,"classList").get;Object.defineProperty(Element.prototype,"classList",{get(){const t=e.call(this);if(t.__dbg_wrapped)return t;const o=this,i=t.remove,a=t.toggle;return t.remove=function(...n){return n.some(r=>r==="_catalog-active"||r==="_search-active")&&(console.groupCollapsed("[XRAY] classList.remove",n,"\u043D\u0430",o),console.trace("\u0421\u0422\u0415\u041A remove"),console.groupEnd()),i.apply(this,n)},t.toggle=function(n,r){const c=o.classList.contains(n),l=a.apply(this,[n,r]),u=o.classList.contains(n);return(n==="_catalog-active"||n==="_search-active")&&c&&!u&&(console.groupCollapsed("[XRAY] classList.toggle \u0441\u043D\u044F\u043B",n,"\u043D\u0430",o),console.trace("\u0421\u0422\u0415\u041A toggle"),console.groupEnd()),l},t.__dbg_wrapped=!0,t}});const s=Object.getOwnPropertyDescriptor(Element.prototype,"className");Object.defineProperty(Element.prototype,"className",{get:s.get,set(t){const o=this.classList.contains("_catalog-active"),i=this.classList.contains("_search-active");s.set.call(this,t),o&&!this.classList.contains("_catalog-active")&&(console.groupCollapsed("[XRAY] className setter \u0441\u043D\u044F\u043B _catalog-active \u043D\u0430",this),console.trace("\u0421\u0422\u0415\u041A className"),console.groupEnd()),i&&!this.classList.contains("_search-active")&&(console.groupCollapsed("[XRAY] className setter \u0441\u043D\u044F\u043B _search-active \u043D\u0430",this),console.trace("\u0421\u0422\u0415\u041A className"),console.groupEnd())}})})(),A();const S=()=>document.documentElement.hasAttribute("data-fls-menu-open");if(!window.__modsCatalogInit){window.__modsCatalogInit=!0;const e=document.querySelectorAll(".header-catalog__toggle");e.length>0&&e.forEach(s=>{s.__hcBound||(s.__hcBound=!0,s.addEventListener("click",t=>{if(t.stopPropagation(),t.stopImmediatePropagation(),!d)return;const o=s.closest(".header-catalog");if(!o)return;const i=!o.classList.contains("_catalog-active");if(o.classList.toggle("_catalog-active"),i){const a=document.querySelector(".search._search-active");a&&a.classList.remove("_search-active"),S()||y()}else{const a=document.querySelector(".search._search-active");!S()&&!a&&h()}}))})}document.addEventListener("keydown",e=>{if(e.key==="Escape"||e.key==="Esc"){const s=document.querySelector(".header-catalog._catalog-active");if(s){s.classList.remove("_catalog-active");const t=document.querySelector(".search._search-active"),o=document.documentElement.hasAttribute("data-fls-menu-open");!t&&!o&&h()}}});const C=768,f=window.matchMedia(`(min-width: ${C}px)`);document.querySelectorAll(".header-catalog__tabs").forEach(T);function T(e){const s=Array.from(e.querySelectorAll("button.header-catalog__title")),t=Array.from(e.querySelectorAll(".header-catalog__body"));e.addEventListener("click",n=>{const r=n.target.closest("button.header-catalog__title");if(!r||!e.contains(r))return;const c=s.indexOf(r);c!==-1&&(s.forEach(l=>l.classList.remove("_item-active")),t.forEach(l=>l.classList.remove("_item-active")),r.classList.add("_item-active"),t[c]&&t[c].classList.add("_item-active"))}),e.addEventListener("pointerover",n=>{const r=n.target.closest(".header-catalog__link");if(!r||!e.contains(r))return;const c=r.closest(".header-catalog__body");if(!c)return;const l=Array.from(c.querySelectorAll(".header-catalog__list .header-catalog__item")),u=Array.from(c.querySelectorAll(".header-catalog__block .header-catalog__item")),m=r.closest(".header-catalog__item"),p=l.indexOf(m);c.querySelectorAll(".header-catalog__item._item-hover").forEach(P=>P.classList.remove("_item-hover")),m&&m.classList.add("_item-hover"),p>-1&&u[p]&&u[p].classList.add("_item-hover")}),e.addEventListener("click",n=>{const r=n.target.closest(".header-catalog__close");if(!r||!e.contains(r)||f.matches)return;const c=r.closest(".header-catalog__body");if(!c)return;c.classList.remove("_item-active");const l=t.indexOf(c);l>-1&&s[l]&&s[l].classList.remove("_item-active")});function o(){s.forEach(n=>n.classList.remove("_item-active")),t.forEach(n=>n.classList.remove("_item-active")),e.querySelectorAll("._item-hover").forEach(n=>n.classList.remove("_item-hover"))}function i(){o(),s[0]&&s[0].classList.add("_item-active"),t[0]&&t[0].classList.add("_item-active"),t.forEach(n=>{const r=Array.from(n.querySelectorAll(".header-catalog__list .header-catalog__item")),c=Array.from(n.querySelectorAll(".header-catalog__block .header-catalog__item"));r[0]&&r[0].classList.add("_item-hover"),c[0]&&c[0].classList.add("_item-hover")})}f.matches?i():o();const a=n=>n.matches?i():o();f.addEventListener?f.addEventListener("change",a):f.addListener(a)}class B{constructor(){this.type="max",this.init()}init(){this.objects=[],this.daClassname="--dynamic",this.nodes=[...document.querySelectorAll("[data-fls-dynamic]")],this.nodes.forEach(s=>{const o=s.dataset.flsDynamic.trim().split(","),i={};i.element=s,i.parent=s.parentNode,i.destinationParent=o[3]&&s.closest(o[3].trim())||document,o[3]&&o[3].trim();const a=o[0]?o[0].trim():null;if(a){const n=i.destinationParent.querySelector(a);n&&(i.destination=n)}i.breakpoint=o[1]?o[1].trim():"767.98",i.place=o[2]?o[2].trim():"last",i.index=this.indexInParent(i.parent,i.element),this.objects.push(i)}),this.arraySort(this.objects),this.mediaQueries=this.objects.map(({breakpoint:s})=>`(${this.type}-width: ${s/16}em),${s}`).filter((s,t,o)=>o.indexOf(s)===t),this.mediaQueries.forEach(s=>{const t=s.split(","),o=window.matchMedia(t[0]),i=t[1],a=this.objects.filter(({breakpoint:n})=>n===i);o.addEventListener("change",()=>{this.mediaHandler(o,a)}),this.mediaHandler(o,a)})}mediaHandler(s,t){s.matches?t.forEach(o=>{o.destination&&this.moveTo(o.place,o.element,o.destination)}):t.forEach(({parent:o,element:i,index:a})=>{i.classList.contains(this.daClassname)&&this.moveBack(o,i,a)})}moveTo(s,t,o){t.classList.add(this.daClassname);const i=s==="last"||s==="first"?s:parseInt(s,10);i==="last"||i>=o.children.length?o.append(t):i==="first"?o.prepend(t):o.children[i].before(t)}moveBack(s,t,o){t.classList.remove(this.daClassname),s.children[o]!==void 0?s.children[o].before(t):s.append(t)}indexInParent(s,t){return[...s.children].indexOf(t)}arraySort(s){if(this.type==="min")s.sort((t,o)=>t.breakpoint===o.breakpoint?t.place===o.place?0:t.place==="first"||o.place==="last"?-1:t.place==="last"||o.place==="first"?1:0:t.breakpoint-o.breakpoint);else{s.sort((t,o)=>t.breakpoint===o.breakpoint?t.place===o.place?0:t.place==="first"||o.place==="last"?1:t.place==="last"||o.place==="first"?-1:0:o.breakpoint-t.breakpoint);return}}}document.querySelector("[data-fls-dynamic]")&&window.addEventListener("load",()=>new B),A();const b=()=>document.documentElement.hasAttribute("data-fls-menu-open");if(!window.__modsSearchInit){window.__modsSearchInit=!0;const e=document.querySelectorAll(".search__toggle");e.length>0&&e.forEach(s=>{s.__srchBound||(s.__srchBound=!0,s.addEventListener("click",t=>{if(t.stopPropagation(),t.stopImmediatePropagation(),!d)return;const o=s.closest(".search");if(!o)return;const i=!o.classList.contains("_search-active");if(o.classList.toggle("_search-active"),i){const a=document.querySelector(".header-catalog._catalog-active");if(a){a.classList.remove("_catalog-active");return}b()||y()}else!document.querySelector(".header-catalog._catalog-active")&&!b()&&h()}))})}document.addEventListener("keydown",e=>{if(e.key==="Escape"||e.key==="Esc"){const s=document.querySelector(".search._search-active");if(s){s.classList.remove("_search-active");const t=document.querySelector(".header-catalog._catalog-active"),o=document.documentElement.hasAttribute("data-fls-menu-open");!t&&!o&&h()}}});export{v as a,q as b,x as d,g as s};
