(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}})();let g=(e,t=500,i=0)=>{e.classList.contains("--slide")||(e.classList.add("--slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=i?`${i}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.hidden=!i,i||e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),i||e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))},t))},_=(e,t=500,i=0)=>{if(!e.classList.contains("--slide")){e.classList.add("--slide"),e.hidden=e.hidden?!1:null,i&&e.style.removeProperty("height");let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=i?`${i}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))},t)}},O=(e,t=500)=>e.hidden?_(e,t):g(e,t),d=!0,y=(e=500)=>{document.documentElement.hasAttribute("data-fls-scrolllock")?v(e):f(e)},v=(e=500)=>{if(d){const t=document.querySelectorAll("[data-fls-lp]");setTimeout(()=>{t.forEach(i=>{i.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.removeAttribute("data-fls-scrolllock")},e),d=!1,setTimeout(function(){d=!0},e)}},f=(e=500)=>{if(d){const t=document.querySelectorAll("[data-fls-lp]"),i=window.innerWidth-document.body.offsetWidth+"px";t.forEach(s=>{s.style.paddingRight=i}),document.body.style.paddingRight=i,document.documentElement.setAttribute("data-fls-scrolllock",""),d=!1,setTimeout(function(){d=!0},e)}};function T(e,t){const i=Array.from(e).filter(n=>n.dataset[t]).map(n=>{const[r,a="max"]=n.dataset[t].split(",");return{value:r,type:a,item:n}});if(i.length===0)return[];const s=i.map(({value:n,type:r})=>`(${r}-width: ${n}px),${n},${r}`);return[...new Set(s)].map(n=>{const[r,a,c]=n.split(","),l=window.matchMedia(r);return{itemsArray:i.filter(m=>m.value===a&&m.type===c),matchMedia:l}})}function C(){document.addEventListener("click",function(e){if(d&&e.target.closest("[data-fls-menu]")){y(),document.documentElement.toggleAttribute("data-fls-menu-open");const t=document.querySelector(".header-catalog._catalog-active");t&&t.classList.remove("_catalog-active")}})}document.querySelector("[data-fls-menu]")&&window.addEventListener("load",C);let L=!1,E=-1,b=null,A=null;function S(){if(L)return;L=!0;const e=document.documentElement,t=document.querySelector(".header");if(!t)return;const i=()=>{const n=t.getBoundingClientRect().height||0;n!==E&&(E=n,e.style.setProperty("--header-height",`${n}px`))};i(),b=new AbortController;const{signal:s}=b;A=new ResizeObserver(i),A.observe(t);const o=()=>requestAnimationFrame(i);window.addEventListener("resize",o,{passive:!0,signal:s})}S();const P=()=>document.documentElement.hasAttribute("data-fls-menu-open"),q=document.querySelectorAll(".header-catalog__toggle");q.length>0&&q.forEach(e=>{e.addEventListener("click",()=>{if(!d)return;const t=e.closest(".header-catalog");if(!t)return;const i=!t.classList.contains("_catalog-active");if(t.classList.toggle("_catalog-active"),i){const s=document.querySelector(".search._search-active");s&&s.classList.remove("_search-active"),P()||f(),f()}else{const s=document.querySelector(".search._search-active");!P()&&!s&&v()}})}),document.addEventListener("keydown",e=>{if(e.key==="Escape"||e.key==="Esc"){const t=document.querySelector(".header-catalog._catalog-active");t&&(y(),t.classList.remove("_catalog-active"))}});const $=768,u=window.matchMedia(`(min-width: ${$}px)`);document.querySelectorAll(".header-catalog__tabs").forEach(B);function B(e){const t=Array.from(e.querySelectorAll("button.header-catalog__title")),i=Array.from(e.querySelectorAll(".header-catalog__body"));e.addEventListener("click",r=>{const a=r.target.closest("button.header-catalog__title");if(!a||!e.contains(a))return;const c=t.indexOf(a);c!==-1&&(t.forEach(l=>l.classList.remove("_item-active")),i.forEach(l=>l.classList.remove("_item-active")),a.classList.add("_item-active"),i[c]&&i[c].classList.add("_item-active"))}),e.addEventListener("pointerover",r=>{const a=r.target.closest(".header-catalog__link");if(!a||!e.contains(a))return;const c=a.closest(".header-catalog__body");if(!c)return;const l=Array.from(c.querySelectorAll(".header-catalog__list .header-catalog__item")),h=Array.from(c.querySelectorAll(".header-catalog__block .header-catalog__item")),m=a.closest(".header-catalog__item"),p=l.indexOf(m);c.querySelectorAll(".header-catalog__item._item-hover").forEach(x=>x.classList.remove("_item-hover")),m&&m.classList.add("_item-hover"),p>-1&&h[p]&&h[p].classList.add("_item-hover")}),e.addEventListener("click",r=>{const a=r.target.closest(".header-catalog__close");if(!a||!e.contains(a)||u.matches)return;const c=a.closest(".header-catalog__body");if(!c)return;c.classList.remove("_item-active");const l=i.indexOf(c);l>-1&&t[l]&&t[l].classList.remove("_item-active")});function s(){t.forEach(r=>r.classList.remove("_item-active")),i.forEach(r=>r.classList.remove("_item-active")),e.querySelectorAll("._item-hover").forEach(r=>r.classList.remove("_item-hover"))}function o(){s(),t[0]&&t[0].classList.add("_item-active"),i[0]&&i[0].classList.add("_item-active"),i.forEach(r=>{const a=Array.from(r.querySelectorAll(".header-catalog__list .header-catalog__item")),c=Array.from(r.querySelectorAll(".header-catalog__block .header-catalog__item"));a[0]&&a[0].classList.add("_item-hover"),c[0]&&c[0].classList.add("_item-hover")})}u.matches?o():s();const n=r=>r.matches?o():s();u.addEventListener?u.addEventListener("change",n):u.addListener(n)}class D{constructor(){this.type="max",this.init()}init(){this.objects=[],this.daClassname="--dynamic",this.nodes=[...document.querySelectorAll("[data-fls-dynamic]")],this.nodes.forEach(t=>{const s=t.dataset.flsDynamic.trim().split(","),o={};o.element=t,o.parent=t.parentNode,o.destinationParent=s[3]&&t.closest(s[3].trim())||document,s[3]&&s[3].trim();const n=s[0]?s[0].trim():null;if(n){const r=o.destinationParent.querySelector(n);r&&(o.destination=r)}o.breakpoint=s[1]?s[1].trim():"767.98",o.place=s[2]?s[2].trim():"last",o.index=this.indexInParent(o.parent,o.element),this.objects.push(o)}),this.arraySort(this.objects),this.mediaQueries=this.objects.map(({breakpoint:t})=>`(${this.type}-width: ${t/16}em),${t}`).filter((t,i,s)=>s.indexOf(t)===i),this.mediaQueries.forEach(t=>{const i=t.split(","),s=window.matchMedia(i[0]),o=i[1],n=this.objects.filter(({breakpoint:r})=>r===o);s.addEventListener("change",()=>{this.mediaHandler(s,n)}),this.mediaHandler(s,n)})}mediaHandler(t,i){t.matches?i.forEach(s=>{s.destination&&this.moveTo(s.place,s.element,s.destination)}):i.forEach(({parent:s,element:o,index:n})=>{o.classList.contains(this.daClassname)&&this.moveBack(s,o,n)})}moveTo(t,i,s){i.classList.add(this.daClassname);const o=t==="last"||t==="first"?t:parseInt(t,10);o==="last"||o>=s.children.length?s.append(i):o==="first"?s.prepend(i):s.children[o].before(i)}moveBack(t,i,s){i.classList.remove(this.daClassname),t.children[s]!==void 0?t.children[s].before(i):t.append(i)}indexInParent(t,i){return[...t.children].indexOf(i)}arraySort(t){if(this.type==="min")t.sort((i,s)=>i.breakpoint===s.breakpoint?i.place===s.place?0:i.place==="first"||s.place==="last"?-1:i.place==="last"||s.place==="first"?1:0:i.breakpoint-s.breakpoint);else{t.sort((i,s)=>i.breakpoint===s.breakpoint?i.place===s.place?0:i.place==="first"||s.place==="last"?1:i.place==="last"||s.place==="first"?-1:0:s.breakpoint-i.breakpoint);return}}}document.querySelector("[data-fls-dynamic]")&&window.addEventListener("load",()=>new D),S();const w=()=>document.documentElement.hasAttribute("data-fls-menu-open"),k=document.querySelectorAll(".search__toggle");k.length>0&&k.forEach(e=>{e.addEventListener("click",()=>{if(!d)return;const t=e.closest(".search");if(!t)return;const i=!t.classList.contains("_search-active");if(t.classList.toggle("_search-active"),i){const s=document.querySelector(".header-catalog._catalog-active");if(s){s.classList.remove("_catalog-active");return}if(w())return;f()}else!document.querySelector(".header-catalog._catalog-active")&&!w()&&v()})}),document.addEventListener("keydown",e=>{if(e.key==="Escape"||e.key==="Esc"){const t=document.querySelector(".search._search-active");t&&(y(),t.classList.remove("_search-active"))}});export{g as a,O as b,T as d,_ as s};
